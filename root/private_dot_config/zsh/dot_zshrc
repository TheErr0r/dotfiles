#!/bin/env zsh

# if not running interactively, don't do anything
[[ $- != *i* ]] && return

# enable oh-my-posh
# source: https://ohmyposh.dev/docs/installation/prompt
eval "$(oh-my-posh init zsh --config $OMP_CONFIG_HOME/zen.toml)"

# enable zinit
# install if not present
# source: https://github.com/zdharma-continuum/zinit?tab=readme-ov-file
ZINIT_HOME="${XDG_DATA_HOME:-${HOME}/.local/share}/zinit/zinit.git"
[ ! -d $ZINIT_HOME ] && mkdir -p "$(dirname $ZINIT_HOME)"
[ ! -d $ZINIT_HOME/.git ] && git clone https://github.com/zdharma-continuum/zinit.git "$ZINIT_HOME"
source "${ZINIT_HOME}/zinit.zsh"

# source other files
source "$ZDOTDIR/aliases"
source "$ZDOTDIR/history"
source "$ZDOTDIR/plugins"
source "$ZDOTDIR/yazi"

# file matching
setopt EXTENDED_GLOB
setopt NOMATCH

# report status of background
setopt NOTIFY

# set vi mode
bindkey -v

# gpg
# source: https://wiki.archlinux.org/title/GnuPG#Configure_pinentry_to_use_the_correct_TTY
export GPG_TTY=$TTY

# fzf
eval "$(fzf --zsh)"

# zoxide
eval "$(zoxide init --cmd cd zsh)"

